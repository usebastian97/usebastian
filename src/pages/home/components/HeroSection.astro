---
import { useTranslations } from '@/i18n/utils';
import { Icon } from 'astro-icon/components';

const t = useTranslations('en');
---

<section class="relative overflow-hidden border-b border-gray-200 bg-white">
  <!-- Background SVG decoration -->
  <div
    class="pointer-events-none absolute -top-32 -left-62 h-[500px] w-[500px] opacity-70 sm:-top-24 sm:-left-24 sm:h-[600px] sm:w-[600px] lg:-top-16 lg:-left-16 lg:h-[700px] lg:w-[700px]"
  >
    <img src="/home/hero-bg.svg" alt="" class="h-full w-full" aria-hidden="true" />
  </div>

  <div class="relative container mx-auto px-4 py-16 sm:px-6 sm:py-10 lg:px-8">
    <!-- Two column layout: content left, image right -->
    <div
      class="mx-auto flex max-w-6xl flex-col-reverse items-center gap-8 lg:flex-row lg:items-center lg:justify-between lg:gap-12"
    >
      <!-- Left column: Text content -->
      <div class="flex-1 text-center lg:text-left">
        <!-- Main headline -->
        <h1
          class="slide-in-up mb-4 text-4xl leading-[1.1] font-bold tracking-tight text-gray-900 sm:text-5xl lg:text-6xl"
        >
          {t('home.hero.title')}
        </h1>

        <!-- Subtitle -->
        <p class="slide-in-up mb-4 text-xl font-normal text-gray-600 sm:text-2xl">
          {t('home.hero.subtitle')}
        </p>

        <!-- Description -->
        <p class="slide-in-up mb-8 max-w-2xl text-base leading-relaxed text-gray-500">
          {t('home.hero.description')}
        </p>

        <!-- CTA Buttons -->
        <div
          class="slide-in-up mb-10 flex flex-row items-center justify-center gap-3 lg:justify-start"
        >
          <a
            href="/projects"
            class="btn-primary group inline-flex items-center space-x-1 rounded-xl px-4 py-2 text-sm sm:space-x-2 sm:px-6 sm:py-3 sm:text-base"
          >
            <span>{t('home.hero.cta.primary')}</span>
            <Icon
              name="lucide:arrow-right"
              class="h-3 w-3 stroke-[1.5] transition-transform duration-200 group-hover:translate-x-1 sm:h-4 sm:w-4"
            />
          </a>

          <a
            href="/cv/Sebastian_Utoiu_CV.pdf"
            download="Sebastian_Utoiu_CV.pdf"
            class="btn-outline inline-flex items-center space-x-1 rounded-xl px-4 py-2 text-sm sm:space-x-2 sm:px-6 sm:py-3 sm:text-base"
          >
            <span>{t('home.hero.cta.secondary')}</span>
          </a>
        </div>

        <!-- Social Media Icons -->
        <div class="slide-in-up flex items-center justify-center gap-4 lg:justify-start">
          <a
            href="https://linkedin.com/in/usebastian12"
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-link"
            aria-label="LinkedIn"
          >
            <Icon name="simple-icons:linkedin" class="h-5 w-5 sm:h-6 sm:w-6" />
          </a>
          <a
            href="https://github.com/usebastian97"
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-link"
            aria-label="GitHub"
          >
            <Icon name="simple-icons:github" class="h-5 w-5 sm:h-6 sm:w-6" />
          </a>
          <a
            href="https://substack.com/@yourprofile"
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-link"
            aria-label="Substack"
          >
            <Icon name="simple-icons:substack" class="h-5 w-5 sm:h-6 sm:w-6" />
          </a>
          <a
            href="https://x.com/sutoiu12"
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-link"
            aria-label="X (Twitter)"
          >
            <Icon name="simple-icons:x" class="h-5 w-5 sm:h-6 sm:w-6" />
          </a>
          <a
            href="https://instagram.com/usebastian12"
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-link"
            aria-label="Instagram"
          >
            <Icon name="simple-icons:instagram" class="h-5 w-5 sm:h-6 sm:w-6" />
          </a>
        </div>
      </div>

      <!-- Right column: Hero Image -->
      <div class="fade-in flex-shrink-0">
        <img
          src="/home/me.jpg"
          alt="Profile â€” Cloud Architect"
          class="block h-32 w-32 rounded-full border-4 border-white object-cover object-top shadow-lg sm:h-40 sm:w-40 lg:h-56 lg:w-56 dark:border-gray-800"
          loading="eager"
        />
      </div>
    </div>
  </div>
</section>

<script>
  // Prevent unwanted clicks on the hero section
  document.addEventListener('DOMContentLoaded', () => {
    const heroSection = document.querySelector('section');
    if (heroSection) {
      heroSection.addEventListener('click', (e) => {
        // Only allow clicks on links and buttons
        const target = e.target as HTMLElement;
        const isClickableElement = target.closest('a') || target.closest('button');

        if (!isClickableElement) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        }
      });
    }
  });
</script>

<style>
  .social-icon-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 9999px;
    color: #6b7280;
    transition: all 0.2s ease;
    border: 1px solid transparent;
  }

  .social-icon-link:hover {
    color: #111827;
    background-color: #f3f4f6;
    border-color: #e5e7eb;
    transform: translateY(-2px);
  }

  @media (min-width: 640px) {
    .social-icon-link {
      padding: 0.625rem;
    }
  }
</style>
