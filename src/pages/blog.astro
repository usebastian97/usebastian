---
import MainLayout from '@layouts/MainLayout.astro';
import BlogHero from './blog/components/BlogHero.astro';
import BlogGrid from './blog/components/BlogGrid.astro';
import { useTranslations } from '@i18n/utils';

const t = useTranslations('en');
---

<MainLayout
  title={t('blog.title')}
  description="Articles on Microsoft 365 architecture, Power Platform governance, security and compliance, and Microsoft 365 Copilot adoption."
>
  <section class="bg-white py-20">
    <div class="mx-auto max-w-[1600px] px-6 sm:px-8 lg:px-12">
      <BlogHero />

      <!-- Separator -->
      <div class="my-12 border-t border-gray-200"></div>

      <!-- Sidebar + Content Layout -->
      <div class="flex flex-col gap-6 lg:flex-row lg:gap-8">
        <!-- Sidebar -->
        <aside class="lg:w-48 lg:flex-shrink-0">
          <div class="sticky top-8 space-y-4">
            <!-- Categories -->
            <div>
              <h2 class="mb-2">Latest</h2>
              <nav class="space-y-1">
                <a
                  href="/blog"
                  class="block rounded-md px-2 py-1.5 text-sm text-gray-700 transition-colors hover:bg-gray-100"
                >
                  All Posts
                </a>
              </nav>
            </div>

            <!-- Topics -->
            <div>
              <h2 class="mb-2">Topics</h2>
              <nav class="space-y-1">
                <a
                  href="/blog?category=m365"
                  class="block rounded-md px-2 py-1.5 text-sm text-gray-700 transition-colors hover:bg-gray-100"
                >
                  Microsoft 365
                </a>
                <a
                  href="/blog?category=power-platform"
                  class="block rounded-md px-2 py-1.5 text-sm text-gray-700 transition-colors hover:bg-gray-100"
                >
                  Power Platform
                </a>
                <a
                  href="/blog?category=security-compliance"
                  class="block rounded-md px-2 py-1.5 text-sm text-gray-700 transition-colors hover:bg-gray-100"
                >
                  Security & Compliance
                </a>
                <a
                  href="/blog?category=copilot-governance"
                  class="block rounded-md px-2 py-1.5 text-sm text-gray-700 transition-colors hover:bg-gray-100"
                >
                  Copilot Governance
                </a>
              </nav>
            </div>
          </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1">
          <BlogGrid />
        </div>
      </div>
    </div>
  </section>
</MainLayout>
